{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Access News{% endblock %}</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Prevent layout shifts */
        img { display: block; }
    </style>
</head>

<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen">

<!-- ================= HEADER ================= -->
<header class="bg-white shadow sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between gap-4">

        <!-- Logo -->
        <a href="/" class="flex items-center gap-3">
            <img src="{% static 'images/logo.png' %}" 
                 alt="Zambia News Logo"
                 class="h-9 w-9 sm:h-10 sm:w-10 object-contain">
            <span class="text-xl sm:text-2xl font-bold text-gray-900 tracking-tight">
                Access <span class="text-blue-600">News</span>
            </span>
        </a>

        <!-- Desktop Nav + Search -->
        <div class="hidden md:flex items-center gap-6">

            <nav class="flex space-x-6 text-gray-700 font-medium">
                <a href="/" class="hover:text-blue-600">Home</a>
                <a href="#" class="hover:text-blue-600">Contact</a>
                <a href="{% url 'privacy_policy' %}" class="hover:text-blue-600">Privacy Policy</a>
                <a href="{% url 'about_us' %}" class="hover:text-blue-600">About us</a>
            </nav>

            <!-- Search Form -->
            <form action="{% url 'search_articles' %}" method="GET" class="relative">
                <input type="text" name="q" placeholder="Search articles..."
                       class="rounded-full border border-gray-300 px-4 py-1 pl-10 focus:ring-blue-500 focus:border-blue-500">
                <button type="submit" class="absolute left-3 top-1.5 text-gray-400">
                    üîç
                </button>
            </form>

        </div>

        <!-- Mobile Menu Button -->
        <button id="menuBtn" class="md:hidden text-gray-700 text-2xl">
            ‚ò∞
        </button>

    </div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="hidden md:hidden bg-white border-t">
        <nav class="flex flex-col px-6 py-4 space-y-3 font-medium text-gray-700">
            <a href="/" class="hover:text-blue-600">Home</a>
            <a href="#">Politics</a>
            <a href="#">Business</a>
            <a href="#">Sports</a>

            <!-- Mobile Search -->
            <form action="{% url 'search_articles' %}" method="GET" class="mt-3 flex items-center">
                <input type="text" name="q" placeholder="Search..."
                       class="flex-1 rounded-full border border-gray-300 px-4 py-1 focus:ring-blue-500 focus:border-blue-500">
                <button type="submit" class="ml-2 text-gray-400 text-lg">üîç</button>
            </form>
        </nav>
    </div>
</header>

<!-- ================= MAIN ================= -->
<main class="flex-1">
    {% block content %}{% endblock %}
</main>

<!-- ================= FOOTER ================= -->
<footer class="bg-white border-t mt-10">
    <div class="max-w-7xl mx-auto px-6 py-6 text-center text-sm text-gray-500">
        ¬© {{ now|date:"Y" }} Zambia News  
        <br class="sm:hidden">
        Rewritten & hosted internally
    </div>
</footer>

<!-- ================= JS ================= -->
<script>
    const btn = document.getElementById("menuBtn");
    const menu = document.getElementById("mobileMenu");

    btn.addEventListener("click", () => {
        menu.classList.toggle("hidden");
    });
</script>

</body>
</html>
